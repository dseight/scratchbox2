.TH sb2-logz 1 "17 December 2010" "2.2" "sb2-logz man page"
.SH NAME
sb2-logz \- sb2 log postprocessing tool
.SH SYNOPSIS
.B sb2-logz [options] < logfile

.SH DESCRIPTION
.B sb2-logz
reads logs created by scratchbox2 and writes summaries (the log files can be
really huge, and manually digging out information from them might be
a time-consuming task).
.PP
Logs are produced when
.I sb2
is executed with -d (debug) or -L options (e.g. "-L info")

.SH OPTIONS
.TP
\-b
no blacklist: do not ignore log lines from functions like __xstat()
(there is a built-in blacklist, which tries to minimize "noise"
caused by various libraries and scratchbox2 itself)
.TP
\-B fn1,fn2,..
blacklist funcions fn1,fn2,..: ignore lines generated by the listed library calls.
.TP
-d level
debug mode, for debugging the script itself.
.TP
-h
show help text.
.TP
-i
print details about 'disabled' pathnames
(unmodifed paths, because mapping was momentarily disabled)
.TP
-l
print long details (affects output of -i,-m,-r,-p etc)
.TP
-m
print details about mapped pathnames (src->dest)
.TP
-N
print all 'notice' messages
.TP
-p
print details about passed pathnames ('passed path' = not mapped)
.TP
-r
print reversed mappings (dest->src)
.TP
-s
print process statistics
.TP
-v
verbose mode, prints dots while reading input etc.
.TP
-P file.dot
write process diagram to file.dot (postprocess
it with 'dot', e.g. 'dot -Tpdf file.dot >file.pdf'
.TP
-E file.dot
write execution diagram to file.dot (postprocess
it with 'dot', e.g. 'dot -Tpdf file.dot >file.pdf'
.TP
-A acct-file
Read process accounting information from acct-file
(enhances output of -P and -E)'

.SH BUGS
Option -A requires an accounting log, which has to be activated separately.
Generation of accounting information typically
requires super-user privileges (or CAP_SYS_PACCT capability on Linux).
This is an system-level restriction, and not fault of scratchbox2. However,
.I sb2-logz
has some limitations:
Correlating information from the accounting log is based on process ids, and the
heuristics may fail if there were really many processes; The -P, -E and -A
options may be less useful for longer runs. Best results are achieved if
process accounting is switched on just before the scratchbox2 session is created,
and switched off afterwards - and there is nothing else running on the host at the
same time.

.SH SEE ALSO
.BR sb2 (1),
.BR sb2-config (1),
.BR sb2-init (1),
.BR acct (2),
.BR dot (1)
(
.I dot
belongs to the
.I graphviz
package)

.SH AUTHOR
.nf
Lauri Aarnio
.fi
